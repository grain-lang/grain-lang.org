<div align="center">
  <a href="https://grain-lang.org/">
    <img src="https://raw.githubusercontent.com/grain-lang/grain/master/grain_shorthand_color.png" alt="Grain" height="200" />
  </a>
</div>

# Grain Website

Documentation for the Grain programming language at [grain-lang.org](https://grain-lang.org/).

[![Netlify Status](https://api.netlify.com/api/v1/badges/62e3f960-de88-4a28-a8f8-b8dddca145cb/deploy-status)](https://app.netlify.com/sites/grain-lang/deploys)

## About

This documentation site is an [Astro](https://astro.build/) site. All of the docs are generated from Markdown files, and the static bundle generated by Astro is hosted on Netlify.

## Contributing

### Cloning the Repository

Since this repo contains a git submodule, it's easiest to clone while including submodules:

```sh
git clone git@github.com:grain-lang/grain-lang.org.git --recurse-submodules
```

If you've already cloned the repo without the submodules, you can pull them like so:

```sh
git pull --recurse-submodules
```

### Editing a Document

To make a change to a document, edit the corresponding Markdown file in [src](src). The file path matches the URL path after `/docs`, but if you have trouble finding the page you're looking for, you can click the "Edit on GitHub" button at the top of page on the website.

Please note that standard library documentation is auto-generated from our standard library source with our documentation tool `grain doc`. If you'd like to make an edit to the standard library docs please do so in the corresponding source file in the main compiler monorepo found [here](https://github.com/grain-lang/grain/tree/main/stdlib). After editing the source file, you can run `grain doc stdlib -o stdlib --current-version=$(grain -v)` from the project root directory to generate the `.md` docs. The changes will be reflected on the website the next time we deploy changes for the next release!

### Adding a New Document

Create your new Markdown file in the desired location within `src/content/docs`. Each document starts with some front-matter, which is a bit of yaml that is given to the renderer. Since the title of the page is an `h1`, headers in your document should begin at level 2:

```markdown
---
title: Some Title of Some Topic
---

## Content Begins Here
```

### Previewing the Site

Once a PR is created, Netlify will create a preview site and comment on the PR with a link. If you'd like to view your changes locally (Node v18+ required):

```sh
npm install
npm run dev
```

This will install all build dependencies and serve the website on port 4321.
